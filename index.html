<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>wiro</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A Scala library for writing HTTP routes" /><meta name="author" content="docs" /><meta name="og:image" content="/wiro/img/poster.png" /><meta name="og:title" content="wiro" /><meta name="og:site_name" content="wiro" /><meta name="og:url" content="http://buildo.github.io/wiro/" /><meta name="og:type" content="website" /><meta name="og:description" content="A Scala library for writing HTTP routes" /><meta name="twitter:image" content="/wiro/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><link rel="icon" type="image/png" href="/wiro/img/favicon.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/wiro/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/wiro/css/style.css" /><link rel="stylesheet" href="/wiro/css/palette.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/wiro/" class="brand"><div class="icon-wrapper"><span>wiro</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/buildo/wiro"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">A Scala library for writing HTTP routes</h1><h2></h2><p class="text-center"><a href="https://github.com/buildo/wiro" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">      </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><p><a href="https://bintray.com/buildo/maven/wiro-http-server/_latestVersion"><img src="https://api.bintray.com/packages/buildo/maven/wiro-http-server/images/download.svg" alt="Download" /></a>
<a href="https://drone.our.buildo.io/buildo/wiro"><img src="https://drone.our.buildo.io/api/badges/buildo/wiro/status.svg" alt="Build Status" /></a>
<a href="https://www.codacy.com/app/claudio_4/wiro?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=buildo/wiro&amp;utm_campaign=badger"><img src="https://api.codacy.com/project/badge/Grade/53a17fb6396c4a0daa835c407ca22866" alt="Codacy Badge" /></a></p>

<p><a name="getting-started"></a></p>

<h2 id="getting-started">Getting Started</h2>

<p>Wiro is published on <a href="https://bintray.com/buildo/maven/wiro-http-server">Bintray</a> and cross-built for Scala 2.11, and Scala 2.12.</p>

<p>How to add dependency:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"io.buildo"</span> <span class="o">%%</span> <span class="s">"wiro-http-server"</span> <span class="o">%</span> <span class="s">"X.X.X"</span>
</code></pre>
</div>

<p>Wiro uses scala macro annotations.  You’ll also need to include the <a href="http://docs.scala-lang.org/overviews/macros/paradise.html">Macro Paradise</a> compiler plugin in your build:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">addCompilerPlugin</span><span class="o">(</span>
  <span class="s">"org.scalamacros"</span> <span class="o">%</span> <span class="s">"paradise"</span> <span class="o">%</span> <span class="s">"2.1.0"</span> <span class="n">cross</span> <span class="nc">CrossVersion</span><span class="o">.</span><span class="n">full</span>
<span class="o">)</span>
</code></pre>
</div>

<h2 id="why-wiro">Why Wiro?</h2>

<p>Wiro is a lightweight Scala library to automatically generate http routes from scala traits.
At buildo, we don’t like writing routes. Writing routes is often an error-prone and frustrating. Futhermore, in most of our use-cases, it can be completely automatized.</p>

<h2 id="features">Features</h2>

<p>Here are the most relevant features of Wiro:</p>

<ul>
  <li>Automatic generation of http routes from decorated Scala traits</li>
  <li>Automatic generation of an http client that matches the generated routes</li>
  <li>Extensible error module (based on type classes)</li>
  <li>Custom routes definition (in case you want to use http methods or write paths that Wiro doesn’t provide)</li>
  <li>Support for HTTP authorization header</li>
</ul>

<h2 id="step-by-step-example">Step by Step Example</h2>

<p>In this example we will build an api to store and retrieve users.</p>

<h3 id="1---model-and-controller-interface">1 - Model and Controller Interface</h3>

<p>First, let’s start by defining the interface of the API controller. We want the API to support the two following
operations:</p>

<ol>
  <li>The client should be able to insert a new user by specifying <code class="highlighter-rouge">id</code> and <code class="highlighter-rouge">name</code></li>
  <li>The client should be able to retrieve a user by <code class="highlighter-rouge">id</code></li>
</ol>

<p>The following snippet defines a model for <code class="highlighter-rouge">User</code> and an interface that follows this specification.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.concurrent.Future</span>
<span class="k">import</span> <span class="nn">wiro.annotation._</span>

<span class="c1">// Models definition
</span><span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="c1">// Error messages
</span><span class="k">case</span> <span class="k">class</span> <span class="nc">Error</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">UserNotFoundError</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="nd">@path</span><span class="o">(</span><span class="s">"users"</span><span class="o">)</span>
<span class="k">trait</span> <span class="nc">UsersApi</span> <span class="o">{</span>

  <span class="nd">@query</span>
  <span class="k">def</span> <span class="n">getUser</span><span class="o">(</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">UserNotFoundError</span>, <span class="kt">User</span><span class="o">]]</span>

  <span class="nd">@command</span>
  <span class="k">def</span> <span class="n">insertUser</span><span class="o">(</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span>
    <span class="n">name</span><span class="k">:</span> <span class="kt">String</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">Error</span>, <span class="kt">User</span><span class="o">]]</span>
<span class="o">}</span>
</code></pre>
</div>
<ul>
  <li>Use the <code class="highlighter-rouge">@query</code> and <code class="highlighter-rouge">@command</code> annotations to handle <code class="highlighter-rouge">GET</code> and <code class="highlighter-rouge">POST</code> requests respectively.</li>
  <li>Return types must be <code class="highlighter-rouge">Future</code> of <code class="highlighter-rouge">Either</code> like above</li>
</ul>

<h3 id="2---controller-implementation">2 - Controller implementation</h3>

<p>Now that we have the API interface, we need to implement it. Let’s add the following implementation
inside the <code class="highlighter-rouge">controllers</code> object:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">users</span> <span class="k">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">mutable</span><span class="o">.</span><span class="nc">Map</span><span class="o">.</span><span class="n">empty</span><span class="o">[</span><span class="kt">Int</span>, <span class="kt">User</span><span class="o">]</span> <span class="c1">// Users DB
</span>
<span class="c1">// API implementation
</span><span class="k">class</span> <span class="nc">UsersApiImpl</span><span class="o">()</span> <span class="k">extends</span> <span class="nc">UsersApi</span> <span class="o">{</span>
  <span class="k">import</span> <span class="nn">scala.concurrent.ExecutionContext.Implicits.global</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">getUser</span><span class="o">(</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">UserNotFoundError</span>, <span class="kt">User</span><span class="o">]]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="n">users</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">user</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Future</span><span class="o">(</span><span class="nc">Right</span><span class="o">(</span><span class="n">user</span><span class="o">))</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nc">Future</span><span class="o">(</span><span class="nc">Left</span><span class="o">(</span><span class="nc">UserNotFoundError</span><span class="o">(</span><span class="s">"User not found"</span><span class="o">)))</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">insertUser</span><span class="o">(</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span>
    <span class="n">name</span><span class="k">:</span> <span class="kt">String</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">Error</span>, <span class="kt">User</span><span class="o">]]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">newUser</span> <span class="k">=</span> <span class="nc">User</span><span class="o">(</span><span class="n">name</span><span class="o">)</span>
    <span class="n">users</span><span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="k">=</span> <span class="n">newUser</span>
    <span class="nc">Future</span><span class="o">(</span><span class="nc">Right</span><span class="o">(</span><span class="n">newUser</span><span class="o">))</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
</div>
<h3 id="3---serialization-and-deserialization">3 - Serialization and deserialization</h3>

<p>Requests and responses composed only by standard types can be serialized and deserialized automatically by <a href="https://github.com/circe/circe">circe</a>, thanks to the following import:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">io.circe.generic.auto._</span>
</code></pre>
</div>

<p>We need, however, to specify how we want the errors that we defined to be converted into HTTP responses. To do it, it is sufficient to define the corresponding implicits, like we do in the following snippet:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">wiro.server.akkaHttp.ToHttpResponse</span>
<span class="k">import</span> <span class="nn">wiro.server.akkaHttp.FailSupport._</span>

<span class="k">import</span> <span class="nn">akka.http.scaladsl.model.</span><span class="o">{</span> <span class="nc">HttpResponse</span><span class="o">,</span> <span class="nc">StatusCodes</span><span class="o">,</span> <span class="nc">ContentType</span><span class="o">,</span> <span class="nc">HttpEntity</span><span class="o">}</span>
<span class="k">import</span> <span class="nn">akka.http.scaladsl.model.MediaTypes</span>

<span class="k">import</span> <span class="nn">io.circe.syntax._</span>
<span class="k">implicit</span> <span class="k">def</span> <span class="n">notFoundToResponse</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">ToHttpResponse</span><span class="o">[</span><span class="kt">UserNotFoundError</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">response</span><span class="o">(</span><span class="n">error</span><span class="k">:</span> <span class="kt">UserNotFoundError</span><span class="o">)</span> <span class="k">=</span> <span class="nc">HttpResponse</span><span class="o">(</span>
    <span class="n">status</span> <span class="k">=</span> <span class="nc">StatusCodes</span><span class="o">.</span><span class="nc">NotFound</span><span class="o">,</span>
    <span class="n">entity</span> <span class="k">=</span> <span class="nc">HttpEntity</span><span class="o">(</span><span class="nc">ContentType</span><span class="o">(</span><span class="nc">MediaTypes</span><span class="o">.</span><span class="n">`application/json`</span><span class="o">),</span> <span class="n">error</span><span class="o">.</span><span class="n">asJson</span><span class="o">.</span><span class="n">noSpaces</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>

<span class="k">implicit</span> <span class="k">def</span> <span class="n">errorToResponse</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">ToHttpResponse</span><span class="o">[</span><span class="kt">Error</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">response</span><span class="o">(</span><span class="n">error</span><span class="k">:</span> <span class="kt">Error</span><span class="o">)</span> <span class="k">=</span> <span class="nc">HttpResponse</span><span class="o">(</span>
    <span class="n">status</span> <span class="k">=</span> <span class="nc">StatusCodes</span><span class="o">.</span><span class="nc">InternalServerError</span><span class="o">,</span>
    <span class="n">entity</span> <span class="k">=</span> <span class="nc">HttpEntity</span><span class="o">(</span><span class="nc">ContentType</span><span class="o">(</span><span class="nc">MediaTypes</span><span class="o">.</span><span class="n">`application/json`</span><span class="o">),</span> <span class="n">error</span><span class="o">.</span><span class="n">asJson</span><span class="o">.</span><span class="n">noSpaces</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="4---router-creation">4 - Router creation</h3>

<p>Now we have everything we need to instance and start the router:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">akka.actor.ActorSystem</span>
<span class="k">import</span> <span class="nn">akka.stream.ActorMaterializer</span>

<span class="k">import</span> <span class="nn">wiro.Config</span>
<span class="k">import</span> <span class="nn">wiro.server.akkaHttp._</span>

<span class="k">object</span> <span class="nc">UserServer</span> <span class="k">extends</span> <span class="nc">App</span> <span class="k">with</span> <span class="nc">RouterDerivationModule</span> <span class="o">{</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="n">system</span> <span class="k">=</span> <span class="nc">ActorSystem</span><span class="o">()</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="n">materializer</span> <span class="k">=</span> <span class="nc">ActorMaterializer</span><span class="o">()</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="n">ec</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">dispatcher</span>

  <span class="k">val</span> <span class="n">usersRouter</span> <span class="k">=</span> <span class="n">deriveRouter</span><span class="o">[</span><span class="kt">UsersApi</span><span class="o">](</span><span class="k">new</span> <span class="nc">UsersApiImpl</span><span class="o">)</span>

  <span class="k">val</span> <span class="n">rpcServer</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">HttpRPCServer</span><span class="o">(</span>
    <span class="n">config</span> <span class="k">=</span> <span class="nc">Config</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8080</span><span class="o">),</span>
    <span class="n">routers</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="n">usersRouter</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="5---requests-examples">5 - Requests examples</h3>

<p>Inserting a user:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -XPOST <span class="s1">'http://localhost:8080/users/insertUser'</span> <span class="se">\</span>
-d <span class="s1">'{"id":0, "name":"Pippo"}'</span> <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">&gt;&gt; {"name":"Pippo"}</code></p>

<p>Getting a user:</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -XGET <span class="s1">'http://localhost:8080/users/getUser?id=0'</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">&gt;&gt; {"name":"Pippo"}</code></p>

<h3 id="6---wiro-client">6 - Wiro client</h3>

<p>With wiro you can also create clients and perform requests:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">wiro.client.akkaHttp._</span>
<span class="k">import</span> <span class="nn">autowire._</span>

<span class="k">object</span> <span class="nc">UserClient</span> <span class="k">extends</span> <span class="nc">App</span> <span class="k">with</span> <span class="nc">ClientDerivationModule</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">config</span> <span class="k">=</span> <span class="nc">Config</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8080</span><span class="o">)</span>

  <span class="k">implicit</span> <span class="k">val</span> <span class="n">system</span> <span class="k">=</span> <span class="nc">ActorSystem</span><span class="o">()</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="n">materializer</span> <span class="k">=</span> <span class="nc">ActorMaterializer</span><span class="o">()</span>
  <span class="k">implicit</span> <span class="k">val</span> <span class="n">ec</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">dispatcher</span>

  <span class="k">val</span> <span class="n">rpcClient</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">RPCClient</span><span class="o">(</span><span class="n">config</span><span class="o">,</span> <span class="n">deriveClientContext</span><span class="o">[</span><span class="kt">UsersApi</span><span class="o">])</span>
  <span class="n">rpcClient</span><span class="o">[</span><span class="kt">UsersApi</span><span class="o">].</span><span class="n">insertUser</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="s">"Pippo"</span><span class="o">).</span><span class="n">call</span><span class="o">()</span> <span class="n">map</span> <span class="o">(</span><span class="n">println</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="7---testing">7 - Testing</h3>

<p>To write tests for the router you can use the Akka <a href="http://doc.akka.io/docs/akka-http/current/scala/http/routing-dsl/testkit.html">Route Testkit</a>. The router to be tested can be extracted from the object that we defined above, as follows:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">org.scalatest.</span><span class="o">{</span> <span class="nc">Matchers</span><span class="o">,</span> <span class="nc">FlatSpec</span> <span class="o">}</span>
<span class="k">import</span> <span class="nn">akka.http.scaladsl.testkit.ScalatestRouteTest</span>
<span class="k">import</span> <span class="nn">de.heikoseeberger.akkahttpcirce.ErrorAccumulatingCirceSupport._</span>

<span class="k">class</span> <span class="nc">UserSpec</span> <span class="k">extends</span> <span class="nc">FlatSpec</span> <span class="k">with</span> <span class="nc">Matchers</span> <span class="k">with</span> <span class="nc">ScalatestRouteTest</span> <span class="k">with</span> <span class="nc">RouterDerivationModule</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">route</span> <span class="k">=</span> <span class="n">deriveRouter</span><span class="o">[</span><span class="kt">UsersApi</span><span class="o">](</span><span class="k">new</span> <span class="nc">UsersApiImpl</span><span class="o">).</span><span class="n">buildRoute</span>

  <span class="n">it</span> <span class="n">should</span> <span class="s">"get a user"</span> <span class="n">in</span> <span class="o">{</span>
    <span class="nc">Get</span><span class="o">(</span><span class="s">"/users/getUser?id=0"</span><span class="o">)</span> <span class="o">~&gt;</span> <span class="n">route</span> <span class="o">~&gt;</span> <span class="n">check</span> <span class="o">{</span>
      <span class="n">responseAs</span><span class="o">[</span><span class="kt">User</span><span class="o">].</span><span class="n">name</span> <span class="n">shouldBe</span> <span class="s">"Pippo"</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h2 id="authorization">Authorization</h2>

<p>How do I authorize my routes? just add a <code class="highlighter-rouge">Auth</code> argument to your methods.</p>

<p>Wiro takes care of extracting the token from “Authorization” http header in the form <code class="highlighter-rouge">Token token=${YOUR_TOKEN}</code>. The token will automagically passed as <code class="highlighter-rouge">token</code> argument.</p>

<p>For example,</p>
<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">akka.http.scaladsl.model.</span><span class="o">{</span> <span class="nc">HttpResponse</span><span class="o">,</span> <span class="nc">StatusCodes</span> <span class="o">}</span>
<span class="k">import</span> <span class="nn">scala.concurrent.Future</span>
<span class="k">import</span> <span class="nn">wiro.Auth</span>
<span class="k">import</span> <span class="nn">wiro.annotation._</span>
<span class="k">import</span> <span class="nn">wiro.server.akkaHttp._</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Unauthorized</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="k">implicit</span> <span class="k">def</span> <span class="n">unauthorizedToResponse</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">ToHttpResponse</span><span class="o">[</span><span class="kt">Unauthorized</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">response</span><span class="o">(</span><span class="n">error</span><span class="k">:</span> <span class="kt">Unauthorized</span><span class="o">)</span> <span class="k">=</span> <span class="nc">HttpResponse</span><span class="o">(</span>
    <span class="n">status</span> <span class="k">=</span> <span class="nc">StatusCodes</span><span class="o">.</span><span class="nc">Unauthorized</span><span class="o">,</span>
    <span class="n">entity</span> <span class="k">=</span> <span class="s">"canna cross it"</span>
  <span class="o">)</span>
<span class="o">}</span>

<span class="nd">@path</span><span class="o">(</span><span class="s">"users"</span><span class="o">)</span>
<span class="k">trait</span> <span class="nc">UsersApi</span> <span class="o">{</span>

  <span class="nd">@query</span>
  <span class="k">def</span> <span class="n">getUser</span><span class="o">(</span>
    <span class="n">token</span><span class="k">:</span> <span class="kt">Auth</span><span class="o">,</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">Unauthorized</span>, <span class="kt">String</span><span class="o">]]</span>

  <span class="nd">@command</span>
  <span class="k">def</span> <span class="n">insertString</span><span class="o">(</span>
    <span class="n">token</span><span class="k">:</span> <span class="kt">Auth</span><span class="o">,</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span>
    <span class="n">name</span><span class="k">:</span> <span class="kt">String</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Either</span><span class="o">[</span><span class="kt">Unauthorized</span>, <span class="kt">String</span><span class="o">]]</span>
<span class="o">}</span>
</code></pre>
</div>

</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>wiro is designed and developed by <a href="http://buildo.github.io/wiro/" target="_blank">docs</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/buildo/wiro"><span class="fa fa-github"></span>View on Github</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/wiro/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script></body></html>